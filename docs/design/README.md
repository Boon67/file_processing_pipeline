# Design Documentation

This directory contains comprehensive design documentation for the Snowflake File Processing Pipeline.

## Documents Overview

| Document | Purpose | Audience |
|----------|---------|----------|
| **[ARCHITECTURE.md](ARCHITECTURE.md)** | Complete architecture reference with visual and ASCII diagrams | All technical roles |
| **[SYSTEM_DESIGN.md](SYSTEM_DESIGN.md)** | High-level system architecture, components, and design patterns | Architects, Senior Engineers, Management |
| **[TECHNICAL_SPECIFICATION.md](TECHNICAL_SPECIFICATION.md)** | Detailed technical specifications, schemas, procedures, and APIs | Developers, Data Engineers |
| **[DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md)** | Step-by-step deployment instructions and troubleshooting | DevOps, System Administrators |

## Quick Navigation

### For Architects & Decision Makers
Start with **[ARCHITECTURE.md](ARCHITECTURE.md)** or **[SYSTEM_DESIGN.md](SYSTEM_DESIGN.md)** to understand:
- Overall architecture and design principles
- Component interactions and data flow
- Security and scalability considerations
- Technology stack and rationale

### For Developers & Engineers
Refer to **[TECHNICAL_SPECIFICATION.md](TECHNICAL_SPECIFICATION.md)** for:
- Database schemas and table structures
- Stored procedure signatures and logic
- Task definitions and dependencies
- Data types and API specifications
- Performance specifications

### For DevOps & Administrators
Follow **[DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md)** for:
- Prerequisites and environment setup
- Step-by-step deployment procedures
- Post-deployment verification
- Configuration management
- Troubleshooting and rollback procedures

## ðŸ“ Directory Structure

```
docs/design/
â”œâ”€â”€ README.md                           # This file
â”œâ”€â”€ ARCHITECTURE.md                     # Complete architecture reference
â”œâ”€â”€ SYSTEM_DESIGN.md                    # High-level design overview
â”œâ”€â”€ TECHNICAL_SPECIFICATION.md          # Detailed technical specs
â”œâ”€â”€ DEPLOYMENT_GUIDE.md                 # Operations manual
â”œâ”€â”€ generate_design_diagrams.py         # Diagram generation script
â””â”€â”€ images/                             # All architecture diagrams
    â”œâ”€â”€ architecture_overview.png       # High-level system architecture
    â”œâ”€â”€ data_flow_diagram.png          # End-to-end data flow
    â”œâ”€â”€ security_rbac_diagram.png      # Security and RBAC model
    â”œâ”€â”€ deployment_pipeline_diagram.png # CI/CD deployment pipeline
    â”œâ”€â”€ bronze_architecture.png        # Bronze layer detailed view
    â”œâ”€â”€ silver_architecture.png        # Silver layer detailed view
    â”œâ”€â”€ overall_data_flow.png          # Complete data flow
    â””â”€â”€ project_structure.png          # Project file structure
```

## ðŸ“Š Architecture Diagrams

All architecture diagrams are located in the `images/` subdirectory.

### Available Diagrams

**Design Diagrams** (generated by `generate_design_diagrams.py`):
- `architecture_overview.png` - High-level system architecture
- `data_flow_diagram.png` - End-to-end data flow
- `security_rbac_diagram.png` - Security and RBAC model
- `deployment_pipeline_diagram.png` - CI/CD deployment pipeline

**Layer Diagrams**:
- `bronze_architecture.png` - Bronze layer detailed view
- `silver_architecture.png` - Silver layer detailed view
- `overall_data_flow.png` - Complete data flow
- `project_structure.png` - Project file structure

### Regenerate Diagrams

```bash
cd docs/design
python3 generate_design_diagrams.py
```

All diagrams are automatically saved to the `images/` subdirectory.

## Document Hierarchy

```
Design Documentation
â”‚
â”œâ”€â”€ ARCHITECTURE.md (Complete Reference)
â”‚   â”œâ”€â”€ Architecture Principles
â”‚   â”œâ”€â”€ Bronze Layer (Visual + ASCII)
â”‚   â”œâ”€â”€ Silver Layer (Visual + ASCII)
â”‚   â”œâ”€â”€ Data Flow
â”‚   â”œâ”€â”€ Security Architecture
â”‚   â”œâ”€â”€ Deployment Architecture
â”‚   â”œâ”€â”€ Scalability & Performance
â”‚   â”œâ”€â”€ Monitoring & Observability
â”‚   â””â”€â”€ Disaster Recovery
â”‚
â”œâ”€â”€ SYSTEM_DESIGN.md (What & Why)
â”‚   â”œâ”€â”€ Executive Summary
â”‚   â”œâ”€â”€ System Overview
â”‚   â”œâ”€â”€ High-Level Architecture
â”‚   â”œâ”€â”€ Component Design
â”‚   â”œâ”€â”€ Data Flow
â”‚   â”œâ”€â”€ Security Design
â”‚   â”œâ”€â”€ Scalability & Performance
â”‚   â”œâ”€â”€ Deployment Architecture
â”‚   â”œâ”€â”€ Monitoring & Observability
â”‚   â””â”€â”€ Disaster Recovery
â”‚
â”œâ”€â”€ TECHNICAL_SPECIFICATION.md (How - Technical Details)
â”‚   â”œâ”€â”€ Technical Overview
â”‚   â”œâ”€â”€ Database Schema
â”‚   â”œâ”€â”€ Stored Procedures
â”‚   â”œâ”€â”€ Task Definitions
â”‚   â”œâ”€â”€ Data Types & Structures
â”‚   â”œâ”€â”€ API Specifications
â”‚   â”œâ”€â”€ Configuration Reference
â”‚   â”œâ”€â”€ Error Handling
â”‚   â””â”€â”€ Performance Specifications
â”‚
â””â”€â”€ DEPLOYMENT_GUIDE.md (How - Operations)
    â”œâ”€â”€ Prerequisites
    â”œâ”€â”€ Pre-Deployment Checklist
    â”œâ”€â”€ Deployment Process
    â”œâ”€â”€ Post-Deployment Verification
    â”œâ”€â”€ Configuration Management
    â”œâ”€â”€ Rollback Procedures
    â”œâ”€â”€ Troubleshooting
    â””â”€â”€ Platform-Specific Instructions
```

## Related Documentation

### User Documentation
- [User Guide](../USER_GUIDE.md) - End-user instructions for using the system
- [Quick Start](../../QUICK_START.md) - 10-minute quick start guide
- [Deployment Checklist](../../DEPLOYMENT_CHECKLIST.md) - Deployment verification checklist

### Layer-Specific Documentation
- [Bronze Layer README](../../bronze/README.md) - Bronze layer details
- [Silver Layer README](../../silver/README.md) - Silver layer details

### Screenshots & Testing
- [Screenshots](../screenshots/README.md) - UI screenshots
- [Test Plan](../testing/TEST_PLAN_BRONZE.md) - Bronze layer test plan

## Document Conventions

### Status Indicators
- âœ… APPROVED - Document is approved and current
- ðŸ”„ DRAFT - Document is in draft status
- âš ï¸ DEPRECATED - Document is outdated

### Version Control
All design documents follow semantic versioning:
- **Major version** (1.0): Significant architectural changes
- **Minor version** (1.1): Feature additions or enhancements
- **Patch version** (1.1.1): Bug fixes or clarifications

### Review Schedule
- **Architecture**: Quarterly review
- **System Design**: Quarterly review
- **Technical Specification**: Monthly review
- **Deployment Guide**: As needed (after each deployment process change)

## Contributing to Design Docs

### When to Update

**Architecture** should be updated when:
- Any architecture changes occur
- New components or layers are added
- Diagrams need updating
- Component descriptions change

**System Design** should be updated when:
- Adding new components or layers
- Changing architectural patterns
- Modifying security model
- Updating disaster recovery procedures

**Technical Specification** should be updated when:
- Adding/modifying database schemas
- Creating/updating stored procedures
- Changing task definitions
- Modifying APIs or data structures

**Deployment Guide** should be updated when:
- Changing deployment process
- Adding new prerequisites
- Discovering new troubleshooting scenarios
- Supporting new platforms

### Update Process

1. **Create Branch**: `git checkout -b docs/update-design-docs`
2. **Make Changes**: Update relevant document(s)
3. **Update Diagrams**: Run `python3 generate_design_diagrams.py` if needed
4. **Update Version**: Increment version number in document header
5. **Update Date**: Update "Last Updated" date
6. **Review**: Have changes reviewed by technical lead
7. **Merge**: Merge to main branch

### Document Standards

**Formatting**:
- Use Markdown format
- Include table of contents for documents > 5 sections
- Use code blocks with language specification
- Include diagrams where helpful (link to `images/` folder)

**Content**:
- Write for the target audience
- Use clear, concise language
- Include examples where appropriate
- Cross-reference related documents
- Keep technical accuracy paramount

**Structure**:
- Start with overview/summary
- Progress from high-level to detailed
- Group related content logically
- End with references/appendices

## Feedback

For questions, corrections, or suggestions about design documentation:

1. **Create an Issue**: Document issues or improvement suggestions
2. **Submit Pull Request**: For corrections or enhancements
3. **Contact Team**: Reach out to the data engineering team

## Version History

| Version | Date | Changes | Author |
|---------|------|---------|--------|
| 2.0 | 2026-01-14 | Consolidated architecture docs, added ARCHITECTURE.md, organized images/ folder | System |
| 1.0 | 2026-01-14 | Initial design documentation created | System |

---

**Last Updated**: 2026-01-14  
**Status**: âœ… APPROVED  
**Next Review**: 2026-04-14
